# MouseKeepAlive

[English](README_EN.md) | 简体中文

一款专为对抗企业 IM 在线状态检测的 macOS 智能工具。通过模拟真实用户操作，让你离开电脑后依然保持在线状态。

## 核心功能

### 🎯 对抗在线检测
- **防止离线显示**：企业 IM（钉钉、企业微信、飞书等）通过检测鼠标/键盘活动判断在线状态，本应用智能模拟真实操作，让你离开屏幕后也不会显示离线
- **自然模拟**：微小的鼠标移动（5-50像素可配置），肉眼几乎不可见，不会干扰正在运行的程序
- **智能触发**：只在真正无操作时才激活，不影响正常使用

### ⚙️ 灵活配置
- **检测时间**：5/10/30/60/120秒 可选，适应不同 IM 的检测频率
- **移动范围**：5/10/20/50像素 可选，在隐蔽性和有效性间平衡
- **菜单栏集成**：轻量化设计，资源占用极低

## 安装

### 下载预编译版本

1. 前往 [Releases](https://github.com/alpacachen/MouseKeepAlive/releases) 下载最新版本
2. 解压后拖入「应用程序」文件夹
3. 首次打开右键点击 -> 打开

### 从源码编译

```bash
git clone https://github.com/alpacachen/MouseKeepAlive.git
cd MouseKeepAlive
open MouseKeepAlive.xcodeproj
# 在 Xcode 中按 Cmd + R 运行
```

## 权限设置

应用需要**辅助功能权限**才能正常工作：

**系统设置** → **隐私与安全性** → **辅助功能** → 勾选 `MouseKeepAlive`

## 使用说明

1. 启动应用后会在菜单栏显示图标
2. 点击菜单栏图标可配置检测时间和移动范围
3. 应用会在后台自动工作

## 使用场景

- **短暂离开**：接水、上洗手间时保持 IM 在线，避免同事/领导看到离线状态
- **午休/吃饭**：午休时间也能维持在线显示，工作时长更"充足"
- **远程办公**：在家办公时偶尔处理其他事务，不担心被认为离岗
- **多任务处理**：专注在纸质文档、手机或其他设备时，主电脑依然显示活跃

> ⚠️ **使用提示**：本工具仅用于合理维护在线状态，请遵守公司规章制度，不要滥用。建议在合理范围内使用，如短暂离开工位等场景。

## 工作原理

企业 IM 通常通过以下方式判断用户在线状态：
1. 检测系统空闲时间（System Idle Time）
2. 监测鼠标/键盘最后活动时间

MouseKeepAlive 的工作机制：
1. **持续监听**：实时监测真实的鼠标和键盘活动
2. **智能判断**：当检测到设定时间内无活动时
3. **精确模拟**：执行微小的鼠标移动（往返位移，不影响鼠标位置）
4. **重置计时**：系统认为有用户操作，更新"最后活动时间"
5. **IM 判定**：企业 IM 读取到活动信号，维持在线状态

整个过程完全自动化，无需手动干预。

## 系统要求

- macOS 13.0 或更高版本

## 隐私与安全

- **纯本地运行**：所有功能在本地执行，无网络请求，不收集任何数据
- **开源透明**：代码完全开源，可自行审计
- **最小权限**：仅需辅助功能权限用于模拟鼠标移动，不访问任何个人信息

## 许可证

MIT License - 查看 [LICENSE](LICENSE) 文件了解详情
